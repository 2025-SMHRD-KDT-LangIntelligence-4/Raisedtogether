<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.smhrd.web.mapper.RegisterMapper">
	<!-- 부모 ID 중복확인 중복1, 없음0 -->
	<select id="isParentIdExists" resultType="int" parameterType="String">
		select count(*)
		from t_parent
		where parent_id = #{value};
	</select>
	
	<!-- 부모 NICKNAME 중복확인 중복1, 없음0 -->
	<select id="isParentNicknameExists" resultType="int" parameterType="String">
		select count(*)
		from t_parent
		where parent_nickname = #{value};
	</select>
	
	<!-- 부모 정보 DB에 입력 -->
	<insert id="insertParent" parameterType="com.smhrd.web.entity.Parent">
		insert into t_parent (parent_id, parent_pw, parent_nickname, parent_phone)
		values (#{parentId}, #{parentPw}, #{parentNickname}, #{parentPhone})
	</insert>

	<!-- 돌보미 ID 중복확인 중복1, 없음0 -->
	<select id="isSitterIdExists" resultType="int" parameterType="com.smhrd.web.entity.Sitter">
	select count(*)
	from t_sitter
	where sitter_id = #{sitterId};
	</select>
	

	<!-- 돌보미 정보 DB에 입력 -->
	<insert id="insertSitter" parameterType="com.smhrd.web.entity.Sitter">
	insert into t_sitter (sitter_id, sitter_pw, sitter_name, sitter_phone,
    sitter_care_type, sitter_photo_img, sitter_care_type_tag, sitter_introduction)
	values (#{sitterId}, #{sitterPw}, #{sitterName}, #{sitterPhone},
	#{sitterCareType}, #{sitterPhotoImg}, #{sitterCareTypeTag}, #{sitterIntroduction})
	</insert>

	

</mapper>